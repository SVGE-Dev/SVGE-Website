{{> header-small }}

<div class="site-section">
	<div class="container">
		<div class="row">
			<div class="site-section-heading text-center mb-5 w-border col-md-6 mx-auto">
				<h2 class="mb-5">Our Games</h2>
				<p>Here at SVGE, we play all manner of games, both casual and competitive. So whether you're looking to
					get into esports tournaments, or just find some new friends to play your favourite games with, we're
					open to anyone playing anything.</p>
			</div>
		</div>
		<div class="row">
			{{#each games}}
			<div class="col-md-6 col-lg-4 mb-3" data-aos="fade-up" data-aos-delay="100">
				<a href="/games/{{this.game.url}}" class="unit-9">
					<div class="image" style="background-image: url('{{this.icon}}');transform: scale(1);">
					</div>
					<div class="unit-9-content">
						<h2>{{this.game.nameShort}}</h2>
						<span>{{this.game.brief}}</span>
						<span>{{this.game.tagline}}</span>
					</div>
				</a>
			</div>
			{{/each}}
		</div>
	</div>

	{{#if canEditAll}}
	<div class="container mb-5">
		<h2>Add new Game</h2>
		<form method="POST" enctype="multipart/form-data">
			<div class="row">
				<div class="col-lg-6">

					<div class="form-group">
						<label for="name">Name</label>
						<input type="text" class="form-control" id="name" name="name" maxlength="64"
							placeholder="League Of Legends" required />
					</div>

					<div class="form-group">
						<label for="nameShort">Short Name</label>
						<input type="text" class="form-control" id="nameShort" name="nameShort" maxlength="32"
							placeholder="League" required />
					</div>

					<div class="form-group">
						<label for="brief">Brief</label>
						<input type="text" class="form-control" id="brief" name="brief" maxlength="32" placeholder="LoL"
							required />
					</div>

					<div class="form-group">
						<label for="tagline">Tagline</label>
						<input type="text" class="form-control" id="tagline" name="tagline" maxlength="32"
							placeholder="5v5 kill each other's base" required />
					</div>

					<div class="form-group">
						<label for="heading">Heading</label>
						<input type="text" class="form-control" id="heading" name="heading" maxlength="32"
							placeholder="Heading goes here" required />
					</div>
				</div>

				<div class="col-lg-6 ml-auto">

					<div class="form-group">
						<label for="position">Position in List</label>
						<input type="number" min=1 class="form-control" name="position" id="position" placeholder=1
							required />
					</div>

					<div class="form-group">
						<label for="text">Game Description</label>
						<textarea class="form-control" id="text" name="text" minlength="256" maxlength="2048"
							placeholder="League of Legends is a..." required></textarea>
					</div>

					<div class="form-group">
						<label for="icon">Icon</label>
						<input type="file" id="icon" name="icon" class="form-control" required>
						<small id="iconHelp" class="form-text text-muted">
							.png file type, as close to 1024x1024 as you can get it
						</small>
					</div>

					<div class="form-group">
						<label for="img">Large Image</label>
						<input type="file" id="img" name="img" class="form-control" required>
					</div>
				</div>

			</div>

			<div class="row">
				<button class="btn btn-primary w-100">Add Game</button>
			</div>
		</form>
	</div>

	<div class="container">
		<h2 class="text-center">Edit existing games</h2>
		{{#each games}}
		<form method="POST" enctype="multipart/form-data" action="/games/edit">
			<h2>{{game.name}}</h2>
			<div class="row">
				<div class="col-lg-6">

					<input type="hidden" id="uuid" name="uuid" value="{{game.uuid}}" />

					<div class="form-group">
						<label for="name">Name</label>
						<input type="text" class="form-control" id="name" name="name" maxlength="64" value="{{game.name}}"/>
					</div>

					<div class="form-group">
						<label for="nameShort">Short Name</label>
						<input type="text" class="form-control" id="nameShort" name="nameShort" maxlength="32" value="{{game.nameShort}}"/>
					</div>

					<div class="form-group">
						<label for="brief">Brief</label>
						<input type="text" class="form-control" id="brief" name="brief" maxlength="32" value="{{game.brief}}" />
					</div>

					<div class="form-group">
						<label for="tagline">Tagline</label>
						<input type="text" class="form-control" id="tagline" name="tagline" maxlength="32" value="{{game.tagline}}" />
					</div>

					<div class="form-group">
						<label for="heading">Heading</label>
						<input type="text" class="form-control" id="heading" name="heading" maxlength="32" value="{{game.heading}}" />
					</div>
				</div>

				<div class="col-lg-6 ml-auto">

					<div class="form-group">
						<label for="position">Position in List</label>
						<input type="number" min=1 class="form-control" name="position" id="position" value="{{game.position}}" />
					</div>

					<div class="form-group">
						<label for="text">Game Description</label>
						<textarea class="form-control" id="text" name="text" minlength="256" maxlength="2048" >{{game.text}}</textarea>
					</div>

					<div class="form-group">
						<label for="icon">Icon</label>
						<input type="file" id="icon" name="icon" class="form-control"/>
						<small id="iconHelp" class="form-text text-muted">
							.png file type, as close to 1024x1024 as you can get it
						</small>
					</div>

					<div class="form-group">
						<label for="img">Large Image</label>
						<input type="file" id="img" name="img" class="form-control"/>
					</div>

					<button class="btn btn-primary w-100">
						Update Game
					</button>
					<button class="btn btn-danger py-2 my-2 w-100" formaction="/games/del">
						Delete Game
					</button>
				</div>

			</div>
		</form>
		{{/each}}
	</div>
	{{/if}}
</div>

{{> footer }}