{{> header-small }}

<!-- jsDelivr :: Sortable :: Latest (https://www.jsdelivr.com/package/npm/sortablejs) -->
<script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

<div class="site-section">
	<div class="container" data-aos="fade-up">
		<div class="row">
			<div class="site-section-heading text-center mb-5 w-border col-md-6 mx-auto">
				<h2 class="mb-5">Your Committee</h2>
				<p>Here at SVGE, to help ensure the best possible society experience for you, we run two committees. Our
					main committee is voted in by every member each year at our AGM, whilst game reps (find them on
					their <a href="/games">games pages</a>) form a smaller games committee and are voted in by the
					members of their gaming community to represent their interests.
				</p>
			</div>
		</div>
		<div class="row">
			{{#each committee}}
			{{#if (multipleOf @index 2)}}
			<div class="d-block d-md-flex podcast-entry bg-white mb-5" data-aos="fade-up">
				<div class="image" style="background-image: url({{this.avatar}});"></div>
				<div class="text">
					<h3 class="font-weight-light"><a href="#">{{this.user.role}}</a></h3>
					<div class=" mb-3 text-black"><span class="text-black-opacity-05"><small>{{this.user.name}}<span
									class="sep">|</span>{{this.user.discordUsername}}</small></span></div>
					<p class="mb-4 text-black lead">{{this.user.desc}}</p>
					<p class="mb-4 text-black">{{this.user.message}}</p>
				</div>
			</div>
			{{else}}
			<div class="d-block d-md-flex podcast-entry bg-white mb-5" data-aos="fade-up">
				<div class="text">
					<h3 class="font-weight-light"><a href="#">{{this.user.role}}</a></h3>
					<div class=" mb-3 text-black"><span class="text-black-opacity-05"><small>{{this.user.name}}<span
									class="sep">|</span>{{this.user.discordUsername}}</small></span></div>
					<p class="mb-4 text-black lead">{{this.user.desc}}</p>
					<p class="mb-4 text-black">{{this.user.message}}</p>
				</div>
				<div class="image" style="background-image: url({{this.avatar}});"></div>
			</div>
			{{/if}}
			{{/each}}
		</div>
	</div>

	{{#if userIsCommittee}}
	<div class="container">
		<ol id="sortable">
			{{#each committee}}
			<li>
				<h3>{{ user.name }}</h3>
				<form>
					<div class="row">
						<div class="col-md-12 col-lg-7 mb-5 form-group">

							<div class="form-group">
								<label for="title">Title</label>
								<input type="text" class="form-control" name="title" id="title" value="{{ user.title }}"
									placeholder="Committee Position Name" />
							</div>

							<div class="form-group">
								<label for="name">Name</label>
								<input type="text" class="form-control" name="name" id="name" value="{{ user.name }}"
									placeholder="Name of Committee Member" />
							</div>

							<div class="form-group">
								<label for="username">Discord Username</label>
								<input type="text" class="form-control" name="username" id="username" value="{{ user.discordUsername }}"
									placeholder="Member's Discord Username" />
							</div>

							<div class="form-group">
								<label for="desc">Description</label>
								<textarea name="desc" class="form-control" id="desc"
									placeholder="Committee Position Description">{{ user.desc }}</textarea>
							</div>

						</div>

						<div class="col-lg-5 ml-auto">
							<div class="form-group">
								<label for="scFiles">Avatar image</label>
								<input type="file" id="scFiles" class="form-control">
							</div>

							<div>
								<label for="discordId">Discord ID</label>
								<input type="text" name="discordId" id="discordId" class="form-control" value="{{ user.discordId }}"
									placeholder="Member's Discord ID">
							</div>

							<div class="text-right">
								<button type="submit" value="Delete Position" class="btn btn-warning py-2 px-4 w-100" onClick="">
									Delete Position
								</button>
							</div>
						</div>
					</div>
				</form>
			</li>
			{{/each}}
		</ol>
	</div>
</div>
{{/if}}

<script>
	$(function () {
		$("#sortable").sortable();
	});
</script>

{{> footer }}